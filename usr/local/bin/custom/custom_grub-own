#!/bin/sh
# Filename__: fkol-k4_grub-own
# Type______: shell script
# Author____: fkol k4
# Purpose___: Install distro's grub to disk
# Target____: GRUB2 distribution installation
# Boxes_____: ┌ ─ ┐│└ ─ ┘

#   1. Update GRUB2 configuration
sudo grub-mkconfig -o /boot/grub/grub.cfg
#   2. Offer GRUB2 installation for every disk on the system
for disk in /dev/sd?; do
    echo -e "
GRUB2 configuration is updated. Do you want to install GRUB2 to disk
\033[1m$disk\033[0m?
Type \033[1my\033[0m to install, or any other key to skip.
Press \033[1mCtrl + C\033[0m to exit this program."
    read -p "Type here: " GRUB_INSTALL_ANSWER
    if [[ $GRUB_INSTALL_ANSWER == y ]]; then
        sudo grub-install --recheck "$disk"
    else
        echo -e "Ok $USER, not touching this disk..."
    fi
done

